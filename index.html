<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioTuteur - Assistant Académique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .dna-bg {
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q 50 50 30 90 M70 10 Q 50 50 70 90' stroke='%2310b981' fill='transparent' stroke-width='2' opacity='0.05'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 overflow-hidden dna-bg">

    <div class="flex h-screen overflow-hidden">
        <!-- Barre latérale (Sidebar) -->
        <aside id="sidebar" class="w-80 bg-slate-900 text-white transition-all duration-300 flex flex-col relative z-20 shadow-xl overflow-hidden">
            <!-- En-tête Sidebar -->
            <div class="p-6 border-b border-slate-800">
                <div class="flex items-center gap-3 mb-2">
                    <div class="bg-white p-1.5 rounded-lg shadow-lg">
                        <!-- Logo BioTuteur Officiel -->
                        <svg viewBox="0 0 100 100" class="w-7 h-7" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="65" cy="35" r="5" fill="#0f172a" fill-opacity="0.15" />
                            <circle cx="85" cy="25" r="4" fill="#0f172a" fill-opacity="0.1" />
                            <circle cx="80" cy="50" r="5" fill="#0f172a" fill-opacity="0.15" />
                            <circle cx="60" cy="55" r="4" fill="#0f172a" fill-opacity="0.1" />
                            <path d="M65 35L85 25M65 35L80 50M80 50L60 55" stroke="#0f172a" stroke-opacity="0.1" stroke-width="1" />
                            <path d="M45 15C35 15 25 25 25 40C25 50 30 55 35 60C32 65 25 70 20 70M45 15C55 15 65 25 65 40C65 55 55 70 45 85C40 95 25 95 25 85C25 75 35 75 35 65" stroke="#0f172a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <h1 class="text-xl font-bold tracking-tight">BioTuteur</h1>
                </div>
                <span class="text-[10px] uppercase tracking-widest bg-emerald-500/20 text-emerald-400 px-2 py-1 rounded border border-emerald-500/30">
                    Version Développement
                </span>
            </div>

            <!-- Navigation Sidebar -->
            <nav class="p-4 space-y-2 flex-1 overflow-y-auto custom-scrollbar">
                <p class="text-xs font-semibold text-slate-500 uppercase px-3 mb-2">Outils d'apprentissage</p>
                <div id="nav-tabs" class="space-y-1">
                    <button onclick="setActiveTab('definition')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white" data-tab="definition">
                        <i data-lucide="book-open" class="w-4 h-4"></i>
                        <span class="text-sm font-medium">Définition simple</span>
                    </button>
                    <button onclick="setActiveTab('clarification')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 bg-emerald-600 text-white shadow-lg" data-tab="clarification">
                        <i data-lucide="brain" class="w-4 h-4"></i>
                        <span class="text-sm font-medium">Clarification concepts</span>
                    </button>
                    <button onclick="setActiveTab('quiz')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white" data-tab="quiz">
                        <i data-lucide="check-circle" class="w-4 h-4"></i>
                        <span class="text-sm font-medium">Quiz Interactif</span>
                    </button>
                    <button onclick="setActiveTab('aide')" class="nav-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white" data-tab="aide">
                        <i data-lucide="info" class="w-4 h-4"></i>
                        <span class="text-sm font-medium">Aide à l'étude</span>
                    </button>
                </div>

                <div class="pt-6">
                    <p class="text-xs font-semibold text-slate-500 uppercase px-3 mb-2">Conversation</p>
                    <div class="space-y-2">
                        <button class="w-full flex items-center justify-between gap-2 px-4 py-2.5 rounded-lg border border-slate-700 text-sm hover:bg-slate-800 group transition-colors">
                            <span class="flex items-center gap-2 italic text-slate-400 truncate">Nouvelle discussion...</span>
                            <i data-lucide="plus" class="w-4 h-4 text-emerald-500"></i>
                        </button>
                        <div class="flex gap-2">
                            <button class="flex-1 flex items-center justify-center gap-2 p-2 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors text-xs text-slate-300">
                                <i data-lucide="save" class="w-3.5 h-3.5"></i> Sauvegarder
                            </button>
                            <button class="flex items-center justify-center p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 transition-colors">
                                <i data-lucide="trash-2" class="w-3.5 h-3.5"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="pt-6">
                    <p class="text-xs font-semibold text-slate-500 uppercase px-3 mb-2">Glossaire express</p>
                    <div class="relative group px-1">
                        <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 w-3.5 h-3.5"></i>
                        <input type="text" placeholder="Chercher un mot..." class="w-full bg-slate-800 border border-slate-700 rounded-lg py-2 pl-9 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all">
                    </div>
                </div>

                <!-- Section Livres -->
                <div class="pt-6">
                    <p class="text-xs font-semibold text-slate-500 uppercase px-3 mb-3">Livres utilisés pour BioTuteur</p>
                    <div class="grid grid-cols-4 gap-2 px-3">
                        <div class="aspect-[3/4] rounded-sm overflow-hidden bg-slate-800 border border-slate-700 hover:border-emerald-500 transition-colors cursor-pointer group shadow-sm">
                            <img src="https://images.unsplash.com/photo-1544947950-fa07a98d237f?auto=format&fit=crop&q=80&w=200" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        </div>
                        <div class="aspect-[3/4] rounded-sm overflow-hidden bg-slate-800 border border-slate-700 hover:border-emerald-500 transition-colors cursor-pointer group shadow-sm">
                            <img src="https://images.unsplash.com/photo-1532012197367-2d20b571765c?auto=format&fit=crop&q=80&w=200" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        </div>
                        <div class="aspect-[3/4] rounded-sm overflow-hidden bg-slate-800 border border-slate-700 hover:border-emerald-500 transition-colors cursor-pointer group shadow-sm">
                            <img src="https://images.unsplash.com/photo-1589998059171-988d887df646?auto=format&fit=crop&q=80&w=200" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        </div>
                        <div class="aspect-[3/4] rounded-sm overflow-hidden bg-slate-800 border border-slate-700 hover:border-emerald-500 transition-colors cursor-pointer group shadow-sm">
                            <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&q=80&w=200" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                </div>

                <!-- Signature et IA -->
                <div class="pt-4 pb-4 px-3 flex flex-col gap-3">
                    <button class="w-full flex items-center justify-between group px-3 py-2 rounded-lg border border-emerald-500/20 bg-emerald-500/5 hover:bg-emerald-500/10 transition-all">
                        <span class="text-[10px] font-bold text-emerald-400 uppercase tracking-widest">En savoir plus sur BioTuteur</span>
                        <i data-lucide="external-link" class="w-3 h-3 text-emerald-500"></i>
                    </button>
                    
                    <div class="flex items-center justify-center gap-2 opacity-50 hover:opacity-90 transition-opacity cursor-default py-1">
                        <div class="bg-[#D97757] p-0.5 rounded-sm flex items-center justify-center">
                            <img src="https://www-cdn.anthropic.com/images/4zrzovbb/website/46e4aa7ea208ed440d5bd9e9e3a0ee66bc336ff1-1000x1000.svg" class="w-2.5 h-2.5">
                        </div>
                        <span class="text-[8px] font-bold text-slate-400 uppercase tracking-tight">
                            Modèle d'IA : Sonnet 3.7 par Anthropic
                        </span>
                    </div>
                </div>
            </nav>

            <!-- Pied de page Sidebar (Utilisateur) -->
            <div class="p-4 border-t border-slate-800 bg-slate-900/50">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-emerald-500 to-teal-400 flex items-center justify-center text-xs font-bold text-slate-900 shadow-inner">
                        ET
                    </div>
                    <div>
                        <p class="text-xs font-medium">Étudiant Cégep</p>
                        <p class="text-[10px] text-slate-500">Session Hiver 2024</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Contenu principal -->
        <main class="flex-1 flex flex-col relative z-10">
            <!-- Header supérieur -->
            <header class="h-16 bg-white/80 backdrop-blur-md border-b border-slate-200 flex items-center justify-between px-6 sticky top-0">
                <div class="flex items-center gap-4">
                    <button onclick="toggleSidebar()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-600">
                        <i data-lucide="menu" id="menu-icon" class="w-5 h-5"></i>
                    </button>
                    <div>
                        <h2 id="current-tab-title" class="text-lg font-semibold text-slate-800">Clarification concepts</h2>
                        <div class="flex items-center gap-1 text-[10px] text-slate-400 uppercase tracking-wider">
                            <span>Biologie Moléculaire</span>
                            <i data-lucide="chevron-right" class="w-2.5 h-2.5"></i>
                            <span id="breadcrumb-tab">Clarification</span>
                        </div>
                    </div>
                </div>

                <div class="flex items-center gap-4">
                    <div class="hidden sm:flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-full text-xs font-medium border border-emerald-100 shadow-sm">
                        <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
                        Assistant Actif
                    </div>
                    <button class="p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors">
                        <i data-lucide="leaf" class="w-5 h-5"></i>
                    </button>
                </div>
            </header>

            <!-- Zone de Chat -->
            <div id="chat-container" class="flex-1 overflow-y-auto p-6 space-y-6">
                <div class="max-w-3xl mx-auto space-y-6" id="message-list">
                    <!-- Message Bot Initial -->
                    <div class="flex justify-start animate-in fade-in duration-500">
                        <div class="flex gap-4 max-w-[85%]">
                            <div class="w-8 h-8 rounded-lg flex-shrink-0 flex items-center justify-center bg-emerald-600 text-white shadow-sm">
                                <i data-lucide="microscope" class="w-4 h-4"></i>
                            </div>
                            <div class="p-4 rounded-2xl shadow-sm border bg-white border-slate-200 text-slate-700 rounded-tl-none">
                                <p class="text-sm leading-relaxed">Bonjour ! Je suis BioTuteur. Comment puis-je vous aider dans vos études de biologie aujourd'hui ?</p>
                                <div class="mt-3 pt-3 border-t border-slate-100 flex gap-4">
                                    <button class="text-[10px] font-bold text-emerald-600 hover:text-emerald-700 uppercase tracking-widest transition-colors">Voir les sources</button>
                                    <button class="text-[10px] font-bold text-slate-400 hover:text-slate-600 uppercase tracking-widest ml-auto transition-colors">Signaler une erreur</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Zone de Saisie -->
            <div class="p-6 bg-white border-t border-slate-200 shadow-[0_-4px_20px_-5px_rgba(0,0,0,0.05)]">
                <form id="chat-form" class="max-w-3xl mx-auto">
                    <div class="relative group">
                        <textarea id="user-input" class="w-full bg-slate-50 border border-slate-200 rounded-2xl py-4 pl-5 pr-14 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all min-h-[60px] max-h-[200px] resize-none shadow-inner" placeholder="Posez votre question sur un concept biologique..." rows="1"></textarea>
                        <button type="submit" class="absolute right-3 bottom-3 p-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 shadow-md transition-all active:scale-95">
                            <i data-lucide="chevron-right" class="w-5 h-5"></i>
                        </button>
                    </div>
                    <p class="mt-3 text-[11px] text-center text-slate-400 italic">
                        BioTuteur est un outil d'accompagnement académique. En cas de doute, demandez toujours confirmation à votre enseignant.e.
                    </p>
                </form>
            </div>
        </main>
    </div>

    <script>
        // Initialisation des icônes Lucide
        lucide.createIcons();

        // Variables d'état
        let sidebarOpen = true;

        // Éléments DOM
        const sidebar = document.getElementById('sidebar');
        const menuIcon = document.getElementById('menu-icon');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');
        const messageList = document.getElementById('message-list');
        const chatContainer = document.getElementById('chat-container');

        // Toggle Sidebar
        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            if (sidebarOpen) {
                sidebar.classList.remove('w-0');
                sidebar.classList.add('w-80');
                menuIcon.setAttribute('data-lucide', 'menu');
            } else {
                sidebar.classList.remove('w-80');
                sidebar.classList.add('w-0');
                menuIcon.setAttribute('data-lucide', 'menu');
            }
            lucide.createIcons();
        }

        // Gestion des onglets
        function setActiveTab(tabId) {
            const btns = document.querySelectorAll('.nav-btn');
            btns.forEach(btn => {
                if (btn.getAttribute('data-tab') === tabId) {
                    btn.classList.add('bg-emerald-600', 'text-white', 'shadow-lg');
                    btn.classList.remove('text-slate-400', 'hover:bg-slate-800', 'hover:text-white');
                    
                    // Update header title
                    const labels = {
                        'definition': 'Définition simple',
                        'clarification': 'Clarification concepts',
                        'quiz': 'Quiz Interactif',
                        'aide': 'Aide à l\'étude'
                    };
                    document.getElementById('current-tab-title').innerText = labels[tabId];
                    document.getElementById('breadcrumb-tab').innerText = labels[tabId].split(' ')[0];
                } else {
                    btn.classList.remove('bg-emerald-600', 'text-white', 'shadow-lg');
                    btn.classList.add('text-slate-400', 'hover:bg-slate-800', 'hover:text-white');
                }
            });
        }

        // Envoi de message
        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const text = userInput.value.trim();
            if (!text) return;

            addMessage('user', text);
            userInput.value = '';
            
            // Simulation réponse bot
            setTimeout(() => {
                addMessage('bot', "C'est une excellente question sur les mécanismes biologiques. Voici une explication structurée pour vous aider à mieux comprendre ce concept complexe...");
            }, 1000);
        });

        function addMessage(role, content) {
            const div = document.createElement('div');
            div.className = `flex ${role === 'user' ? 'justify-end' : 'justify-start'} animate-in fade-in slide-in-from-bottom-3 duration-500`;
            
            const isUser = role === 'user';
            
            div.innerHTML = `
                <div class="flex gap-4 max-w-[85%] ${isUser ? 'flex-row-reverse' : ''}">
                    <div class="w-8 h-8 rounded-lg flex-shrink-0 flex items-center justify-center shadow-sm ${isUser ? 'bg-slate-200 text-slate-600' : 'bg-emerald-600 text-white'}">
                        <i data-lucide="${isUser ? 'plus' : 'microscope'}" class="w-4 h-4"></i>
                    </div>
                    <div class="p-4 rounded-2xl shadow-sm border ${isUser ? 'bg-emerald-600 border-emerald-500 text-white rounded-tr-none' : 'bg-white border-slate-200 text-slate-700 rounded-tl-none'}">
                        <p class="text-sm leading-relaxed">${content}</p>
                        ${!isUser ? `
                            <div class="mt-3 pt-3 border-t border-slate-100 flex gap-4">
                                <button class="text-[10px] font-bold text-emerald-600 hover:text-emerald-700 uppercase tracking-widest transition-colors">Voir les sources</button>
                                <button class="text-[10px] font-bold text-slate-400 hover:text-slate-600 uppercase tracking-widest ml-auto transition-colors">Signaler une erreur</button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            messageList.appendChild(div);
            lucide.createIcons();
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Auto-resize textarea
        userInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });

        // Enter to send
        userInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                chatForm.dispatchEvent(new Event('submit'));
            }
        });
    </script>
</body>
</html>
